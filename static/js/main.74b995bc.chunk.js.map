{"version":3,"sources":["globalStyle.js","slides/store/actionCreator.js","slides/store/reducer.js","store/index.js","slides/style.js","slides/index.js","style.js","App.js","index.js"],"names":["GlobalStyle","createGlobalStyle","dragStart","clientX","currentBoxLeft","type","dragEnd","init","width","sum","initBoxLeft","mouseMove","animationEnd","clickButton","button","iniState","sliderLeft","sliderWidth","dragStartClientX","dragEndClientX","dragDistance","dragging","draggingClientX","draggingStartX","animationStart","startAt","stopAt","totalPic","clickOnAnim","pause","dragStartTime","dragTime","calDragStopAt","startPoint","Math","ceil","floor","round","jumpTo","currentAt","total","calClickStopAt","slideTo","calDragDistance","start","stop","distance","abs","composeEnhancers","window","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","store","createStore","state","action","produce","draft","Date","applyMiddleware","thunk","SlidesWrapper","styled","div","props","Slider","attrs","style","left","keyframes","animation","MySlide","Arrow","a","Slides","children","length","useSelector","dispatch","useDispatch","useCallback","event","currentLeft","currentTarget","getBoundingClientRect","actionCreator","useEffect","addEventListener","removeEventListener","mySliderRef","useRef","current","clientWidth","handleMouseMove","handleAnimationEnd","handleClickArrow","minWidth","onMouseDown","onAnimationEnd","ref","React","Children","map","child","onClick","className","SlideContent","App","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.74b995bc.chunk.js","sourcesContent":["import { createGlobalStyle } from 'styled-components'\r\n\r\nconst GlobalStyle  = createGlobalStyle `\r\n\thtml, body, div, span, applet, object, iframe,\r\n\th1, h2, h3, h4, h5, h6, p, blockquote, pre,\r\n\ta, abbr, acronym, address, big, cite, code,\r\n\tdel, dfn, em, img, ins, kbd, q, s, samp,\r\n\tsmall, strike, strong, sub, sup, tt, var,\r\n\tb, u, i, center,\r\n\tdl, dt, dd, ol, ul, li,\r\n\tfieldset, form, label, legend,\r\n\ttable, caption, tbody, tfoot, thead, tr, th, td,\r\n\tarticle, aside, canvas, details, embed, \r\n\tfigure, figcaption, footer, header, hgroup, \r\n\tmenu, nav, output, ruby, section, summary,\r\n\ttime, mark, audio, video {\r\n\t\tmargin: 0;\r\n\t\tpadding: 0;\r\n\t\tborder: 0;\r\n\t\tfont-size: 100%;\r\n\t\tfont: inherit;\r\n\t\tvertical-align: baseline;\r\n\t}\r\n\t/* HTML5 display-role reset for older browsers */\r\n\tarticle, aside, details, figcaption, figure, \r\n\tfooter, header, hgroup, menu, nav, section {\r\n\t\tdisplay: block;\r\n\t}\r\n\tbody {\r\n\t\tline-height: 1;\r\n\t}\r\n\tol, ul {\r\n\t\tlist-style: none;\r\n\t}\r\n\tblockquote, q {\r\n\t\tquotes: none;\r\n\t}\r\n\tblockquote:before, blockquote:after,\r\n\tq:before, q:after {\r\n\t\tcontent: '';\r\n\t\tcontent: none;\r\n\t}\r\n\ttable {\r\n\t\tborder-collapse: collapse;\r\n\t\tborder-spacing: 0;\r\n\t}\r\n`;\r\n\r\n\r\nexport default GlobalStyle","export const dragStart = (clientX, currentBoxLeft) => ({\r\n\ttype: \"DRAG_START\",\r\n\tclientX,\r\n\tcurrentBoxLeft\r\n});\r\n\r\nexport const dragEnd = () => ({\r\n\ttype: \"DRAG_END\"\t\r\n});\r\n\r\nexport const init = (width, sum, initBoxLeft) =>  ({\r\n\ttype: \"INIT\",\r\n\twidth,\r\n\tsum,\r\n\tinitBoxLeft\r\n});\r\n\r\nexport const mouseMove = (clientX) =>  ({\r\n\ttype: \"MOUSE_MOVE\",\r\n\tclientX\r\n});\r\n\r\nexport const animationEnd = () =>  ({\r\n\ttype: \"ANIMATION_END\"\r\n});\r\n\r\nexport const clickButton = (button) =>  ({\r\n\ttype: \"CLICK_BUTTON\",\r\n\tbutton\r\n});\r\n\r\n\r\n\r\n\r\n","import produce from \"immer\";\r\n\r\nconst iniState = {\r\n\tsliderLeft: 0,\r\n\tsliderWidth: 0,\r\n\tdragStartClientX: 0,\r\n\tdragEndClientX:0,\r\n\tdragDistance: 0,\r\n\tdragging: false,\r\n\tdraggingClientX: 0,\r\n\tdraggingStartX: 0,\r\n\tanimationStart: false,\r\n\tstartAt: 0,\r\n\tstopAt: 0,\r\n\ttotalPic: 0,\r\n\tclickOnAnim: false,\r\n\tpause: false,\r\n\tcurrentBoxLeft: 0,\r\n\tinitBoxLeft: 0,\r\n\tdragStartTime: 0,\r\n\tdragTime: 0,\r\n\tbutton: ''\r\n}\r\n\r\nconst calDragStopAt = (startPoint, dragDistance, sliderWidth, dragTime) => {\r\n\tif ( dragTime < 300 && dragDistance > 0) {\r\n\t\treturn startPoint + Math.ceil(dragDistance / sliderWidth) * sliderWidth\r\n\t} \r\n\tif ( dragTime < 300 && dragDistance < 0) {\r\n\t\treturn startPoint + Math.floor(dragDistance / sliderWidth) * sliderWidth\r\n\t} \r\n\treturn startPoint + Math.round(dragDistance / sliderWidth) * sliderWidth \t\r\n}\r\n\r\nconst jumpTo = (currentAt, sliderWidth, total) => {\r\n\tif( currentAt === 0) {\r\n\t\t\treturn -sliderWidth * total\r\n\t}\r\n\tif (currentAt === -sliderWidth * (total + 1)){\r\n\t\t\treturn -sliderWidth\r\n\t}\r\n\treturn currentAt\r\n}\r\n\r\nconst calClickStopAt = (button, startPoint, width, total) => {\r\n\tlet slideTo;\r\n\tif (button === 'LEFT') {\r\n\t\tslideTo = startPoint + width;\r\n\t}\r\n\tif (button === 'RIGHT') {\r\n\t\tslideTo = startPoint - width\r\n\t}\t\r\n\treturn slideTo\r\n};\r\n\r\nconst calDragDistance = (start, stop , width) => {\r\n\tlet distance = stop - start;\r\n\tif (Math.abs(distance) > 1.49 * width) {\r\n\t\tdistance = 1.49 * width\r\n\t}\r\n\treturn distance\r\n};\r\n\r\nconst reducer = (state = iniState, action) => {\t\r\n\tswitch (action.type) {\r\n\t\tcase \"DRAG_START\":\t\t\t\t\r\n\t\t\treturn produce( state, draft => {\t\t\t\t\t\t\r\n\t\t\t\t\tdraft.dragStartClientX =  action.clientX;\r\n\t\t\t\t\tdraft.currentBoxLeft = action.currentBoxLeft;\r\n\t\t\t\t\tdraft.clickOnAnim = draft.animationStart ? true : false;\r\n\t\t\t\t\tdraft.dragging = draft.clickOnAnim ? false : true;\r\n\t\t\t\t\tdraft.draggingStartX = state.sliderLeft;\t\t\t\t\t\t\r\n\t\t\t\t\tdraft.pause =  true ;\t\t\r\n\t\t\t\t\tdraft.dragStartTime = new Date();\t\t\t\t\t\t\t \r\n\t\t\t\t})\r\n\t\tcase \"DRAG_END\":\r\n\t\t\treturn produce( state, draft => {\t\r\n\t\t\t\t\tif(state.dragging) {\r\n\t\t\t\t\t\tdraft.dragging = false;\r\n\t\t\t\t\t\tdraft.animationStart = true;\r\n\t\t\t\t\t\tdraft.dragTime = new Date() - state.dragStartTime;\r\n\t\t\t\t\t\tdraft.startAt = state.sliderLeft;\r\n\t\t\t\t\t\tdraft.stopAt = calDragStopAt(state.draggingStartX, state.dragDistance, state.sliderWidth, draft.dragTime);\r\n\t\t\t\t\t}\r\n\t\t\t\t\tdraft.pause = false;\t\t\t\t\t \r\n\t\t\t\t})\r\n\t\tcase \"INIT\":\r\n\t\t\treturn produce( state, draft => {\r\n\t\t\t\t\tdraft.sliderLeft = -action.width;\t\t\r\n\t\t\t\t\tdraft.sliderWidth = action.width;\t\r\n\t\t\t\t\tdraft.totalPic = action.sum;\r\n\t\t\t\t\tdraft.initBoxLeft= action.initBoxLeft - action.width;\r\n\t\t\t\t})\r\n\t\tcase \"MOUSE_MOVE\":\t\t\t\r\n\t\t\treturn produce( state, draft => {\t\t\t\t\t\r\n\t\t\t\t\tdraft.draggingClientX = action.clientX;\t\r\n\t\t\t\t\tdraft.dragDistance = calDragDistance(state.dragStartClientX, draft.draggingClientX, state.sliderWidth) ;\t\t\t\r\n\t\t\t\t\tdraft.sliderLeft = state.draggingStartX + draft.dragDistance; \t\t\t\t\t\r\n\t\t\t\t})\r\n\t\tcase \"ANIMATION_END\":\r\n\t\t\treturn produce( state, draft => {\t\t\t\t\t\r\n\t\t\t\t\tdraft.animationStart = false;\r\n\t\t\t\t\tdraft.sliderLeft = jumpTo(state.stopAt, state.sliderWidth, state.totalPic);\r\n\t\t\t\t\tdraft.dragDistance = 0;\t\t\t\t\t\t\r\n\t\t\t\t})\r\n\t\tcase \"CLICK_BUTTON\":\r\n\t\t\treturn produce( state, draft => {\t\t\t\t\t\r\n\t\t\t\t\tdraft.button = \taction.button;\t\r\n\t\t\t\t\tdraft.animationStart = true;\r\n\t\t\t\t\tdraft.startAt = state.sliderLeft;\t\r\n\t\t\t\t\tdraft.stopAt = calClickStopAt(action.button, state.sliderLeft, state.sliderWidth, state.totalPic);\r\n\t\t\t\t})\r\n\t\tdefault:\r\n\t\t\treturn state;\r\n\t}\r\n}\r\n\r\nexport { reducer } ;","import { createStore, compose, applyMiddleware } from 'redux';\r\nimport thunk from 'redux-thunk';\r\nimport { reducer } from './reducer';\r\n\r\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\r\nconst store = createStore(reducer, composeEnhancers(\r\n\tapplyMiddleware(thunk)\r\n));\r\n\r\nexport default store;","import styled, { keyframes } from 'styled-components';\r\n\r\nexport const SlidesWrapper = styled.div`\r\n  max-width: 700px;\r\n  min-width: ${props => props.width};\r\n  position: relative;\r\n  margin: auto;    \r\n  min-height: 150px;\r\n  max-height: 800px;  \r\n  overflow: hidden;  \r\n  cursor: ${props => props.dragging ? 'grabbing' : 'grab'}\r\n`;\r\n\r\nconst animation = (props) => {\r\n  return keyframes`\r\n    0% {\r\n      left: ${(props.startAt + \"px\")};\r\n    }\r\n    100% {\r\n      left: ${(props.stopAt + \"px\")};\r\n    }  \r\n  `\r\n};\r\n\r\nexport const Slider = styled.div.attrs(props => ({\r\n    style: {\r\n      left: props.left + \"px\",\r\n    },\r\n  }))`\r\n\tposition: relative;\t\t\r\n\twidth: ${props => (props.sum + 2) * 100}%;\r\n\theight: 100%;\r\n  animation: ${props => props.animationStart ? animation(props) : null} 0.2s linear;\r\n  animation-play-state: ${props => props.pause ? \"paused\" : \"running\" };\r\n`;\r\n\r\nexport const MySlide = styled.div`\r\n\tfloat: left;\r\n\twidth: ${props => 100 / (props.sum + 2)}%;\r\n\theight: 100%;\r\n\tbackground-color: grey;\r\n`;\r\n\r\nexport const Arrow = styled.a`\r\n  cursor: pointer;\r\n  position: absolute;\r\n  top: 50%;\r\n  width: auto;\r\n  padding: 16px;\r\n  margin-top: -22px;\r\n  color: white;\r\n  font-weight: bold;\r\n  font-size: 18px;\r\n  transition: 0.6s ease;\r\n  border-radius: 0 3px 3px 0;\r\n  user-select: none;   \r\n  display: block;\r\n  &.right{\r\n  \tright: 0;  \t\r\n  }\r\n  :hover{\r\n  \tbackground-color: rgba(0,0,0,0.8);\r\n  }\r\n`;","import React, { useEffect, useCallback, useRef } from 'react';\r\nimport { useSelector, useDispatch } from 'react-redux';\r\nimport { \r\n\tSlidesWrapper,\r\n\tSlider,\r\n\tMySlide,\r\n\tArrow\r\n } from './style';\r\n import  { actionCreator } from './store';\r\n\r\nconst Slides = (props) => {\r\n\tconst children = props.children;\r\n\tconst sum = children.length;\r\n\r\n\tconst sliderLeft = useSelector(state => state.sliderLeft);\t\r\n\tconst dragging = useSelector(state => state.dragging);\t\r\n\tconst animationStart = useSelector(state => state.animationStart);\t\r\n\tconst startAt = useSelector(state => state.startAt);\t\r\n\tconst stopAt = useSelector(state => state.stopAt);\t\r\n\tconst pause = useSelector(state => state.pause);\t\r\n\r\n\tconst dispatch = useDispatch();\r\n\r\n\t//在Slider上点击表示拖拽开始，任意位置松开鼠标拖拽结束\r\n\tconst dragStart = useCallback(\r\n    (event) => {\r\n    \tconst clientX = event.clientX;   \r\n    \tconst currentLeft = event.currentTarget.getBoundingClientRect().left; \r\n    \tdispatch(actionCreator.dragStart(clientX, currentLeft));\r\n    \t}, [dispatch]\r\n  );\r\n\tconst dragEnd = useCallback(\r\n    (event) => dispatch(actionCreator.dragEnd()),\r\n    [dispatch]\r\n  );\r\n\r\n\t//鼠标移动到组件外部松开也可以正常计算移动距离，要在window上监听松开鼠标事件\r\n  useEffect(() => {  \t\r\n    window.addEventListener('mouseup', dragEnd);\r\n    return () => {\r\n    \twindow.removeEventListener('mouseup', dragEnd)\r\n    }\r\n  }, [dragEnd]);\r\n\r\n\t//初始化，将图片队列向左移动一个图片的长度，记录图片数\r\n  const mySliderRef = useRef();\r\n  useEffect(() => {  \t\r\n    dispatch(actionCreator.init(mySliderRef.current.clientWidth, sum, mySliderRef.current.getBoundingClientRect().left))\r\n  }, [dispatch, sum]);\r\n\r\n\r\n\t//鼠标移动时拖动图片队列\r\n\tconst handleMouseMove = useCallback((event) => {\r\n\t\tif (dragging) {\r\n\t\t\tdispatch(actionCreator.mouseMove(event.clientX))\r\n\t\t}\r\n\t}, [dispatch, dragging]);\r\n\tuseEffect(() => {\r\n\t\twindow.addEventListener('mousemove', handleMouseMove);\r\n\t\treturn () => {\r\n\t\t\twindow.removeEventListener('mousemove', handleMouseMove)\r\n\t\t}\r\n\t},[handleMouseMove])\r\n\r\n\t//动画结束\r\n\tconst handleAnimationEnd = useCallback(\r\n\t\t() => dispatch(actionCreator.animationEnd()), [dispatch]\r\n\t)\r\n\r\n\t//点击左右箭头按钮切换\r\n\tconst handleClickArrow = useCallback(\r\n\t(button) => {\r\n\t\treturn () => dispatch(actionCreator.clickButton(button))\r\n\t}, [dispatch]);\r\n\r\n\treturn (\r\n\t\t<SlidesWrapper \r\n\t\t\tminWidth={props.minWidth}\r\n\t\t\tdragging={dragging}\r\n\t\t>\r\n\t\t\t<Slider \r\n\t\t\tsum={sum}\r\n\t\t\tleft={sliderLeft}\r\n\t\t\tonMouseDown={dragStart}\r\n\t\t\tonAnimationEnd={handleAnimationEnd}\r\n\t\t\tanimationStart={animationStart}\r\n\t\t\tstartAt={startAt}\r\n\t\t\tstopAt={stopAt}\r\n\t\t\tpause={pause}\r\n\t\t\t>\r\n\t\t\t\t<MySlide sum={sum} ref={mySliderRef}>{children[sum - 1]}</MySlide>\r\n\t\t\t\t{React.Children.map(children, (child) => {\r\n\t\t\t\t\treturn (<MySlide sum={sum}>{child}</MySlide>)\r\n\t\t\t\t})}\r\n\t\t\t\t<MySlide sum={sum}>{children[0]}</MySlide>\r\n\t\t\t</Slider>\r\n\t\t\t<Arrow onClick={handleClickArrow(\"LEFT\")}>&#10094;</Arrow>\r\n\t\t\t<Arrow className=\"right\" onClick={handleClickArrow(\"RIGHT\")}>&#10095;</Arrow>\r\n\t\t</SlidesWrapper>\r\n\t)\r\n}\r\n\r\nexport { Slides };","import styled from 'styled-components';\r\n\r\nexport const SlideContent = styled.div`\r\n\twidth: 600px;\r\n\theight: 400px;\r\n\tmargin: auto;\r\n\tbackground-color: orange;\r\n\ttext-align: center;\r\n\tline-height: 400px;\r\n\tfont-size: 32px;\r\n\tuser-select: none;\r\n`;","import React, { Fragment } from 'react';\nimport GlobalStyle from './globalStyle';\nimport store from './store';\nimport { Provider } from 'react-redux';\nimport { Slides } from './slides';\nimport { SlideContent } from './style'\n\nfunction App() {\n  return (\n    <Fragment>\n      <Provider store={store}>\n      <GlobalStyle />\n      <Slides minWidth=\"600px\" >\n        <SlideContent>1</SlideContent>\n        <SlideContent>2</SlideContent>\n        <SlideContent>3</SlideContent>\n        <SlideContent>4</SlideContent>\n        <SlideContent>5</SlideContent>\n      </Slides> \n      </Provider>\n    </Fragment>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n\n"],"sourceRoot":""}